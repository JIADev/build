<?xml version="1.0"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="4.0">
  <Target Name="DependencyMerge_2094" DependsOnTargets="InitRepos">
    <PropertyGroup>
      <TargetRepo>$(SourceRepo)</TargetRepo>
    </PropertyGroup>

    <!-- Protection against devs accidentally committing to pub instead of regular req branch -->
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="MergeBranchesIfChanged" Properties="Preview=false;TargetRepo=$(TargetRepo);SourceBranch=2094_REQ022_pub;TargetBranch=2094_REQ022;DoMerge=true;DoCommit=true" />
    
    <!-- Dependency branches -->

    <!-- RC1.1 ->  089 (from 044 -> 049 -> 081 -> 089 and 011 -> 081 -> 089 and 051 -> 089) -->
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="MergeBranches" Properties="Preview=false;TargetRepo=$(TargetRepo);SourceBranch=2094_RC1.1;TargetBranch=2094_REQ089;DoMerge=true;DoCommit=true" />

    <!-- RC1.1 ->  WebTest_RC1.1 -->
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="MergeBranches" Properties="Preview=false;TargetRepo=$(TargetRepo);SourceBranch=2094_RC1.1;TargetBranch=2094_WebTest_RC1.1;DoMerge=true;DoCommit=true" />

    <!-- RC1.1 ->  022 (from 035 -> 036 -> 177 -> 013 -> 022 and 016 -> 013 -> 022) -->
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="MergeBranches" Properties="Preview=false;TargetRepo=$(TargetRepo);SourceBranch=2094_RC1.1;TargetBranch=2094_REQ022;DoMerge=true;DoCommit=true" />

    <!-- RC1.1 ->  142 (from 126 -> 127 -> 141 -> 142) -->
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="MergeBranches" Properties="Preview=false;TargetRepo=$(TargetRepo);SourceBranch=2094_RC1.1;TargetBranch=2094_REQ142;DoMerge=true;DoCommit=true" />

    <!-- RC1.1 ->  143 (from 126 -> 127 -> 141 -> 143) -->
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="MergeBranches" Properties="Preview=false;TargetRepo=$(TargetRepo);SourceBranch=2094_RC1.1;TargetBranch=2094_REQ143;DoMerge=true;DoCommit=true" />
  </Target>
  <Target Name="DependencyMerge_2095" DependsOnTargets="InitRepos">
    <PropertyGroup>
      <TargetRepo>$(SourceRepo)</TargetRepo>
    </PropertyGroup>

    <!-- REQ006 -> REQ011 -->
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="MergeBranches" Properties="Preview=false;TargetRepo=$(TargetRepo);SourceBranch=2095_REQ006;TargetBranch=2095_REQ011;DoMerge=true;DoCommit=true" />
  </Target>
</Project>
